{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport makeCancellable from 'make-cancellable-promise';\nimport makeEventProps from 'make-event-props';\nimport clsx from 'clsx';\nimport invariant from 'tiny-invariant';\nimport warning from 'tiny-warning';\nimport OutlineContext from './OutlineContext';\nimport OutlineItem from './OutlineItem';\nimport { cancelRunningTask } from './shared/utils';\nimport useDocumentContext from './shared/hooks/useDocumentContext';\nimport useResolver from './shared/hooks/useResolver';\nimport { eventProps, isClassName, isPdf, isRef } from './shared/propTypes';\nexport default function Outline(props) {\n  const documentContext = useDocumentContext();\n  invariant(documentContext, 'Unable to find Document context. Did you wrap <Outline /> in <Document />?');\n  const mergedProps = Object.assign(Object.assign({}, documentContext), props);\n\n  const {\n    className,\n    inputRef,\n    onItemClick,\n    onLoadError: onLoadErrorProps,\n    onLoadSuccess: onLoadSuccessProps,\n    pdf\n  } = mergedProps,\n        otherProps = __rest(mergedProps, [\"className\", \"inputRef\", \"onItemClick\", \"onLoadError\", \"onLoadSuccess\", \"pdf\"]);\n\n  invariant(pdf, 'Attempted to load an outline, but no document was specified.');\n  const [outlineState, outlineDispatch] = useResolver();\n  const {\n    value: outline,\n    error: outlineError\n  } = outlineState;\n  /**\n   * Called when an outline is read successfully\n   */\n\n  function onLoadSuccess() {\n    if (typeof outline === 'undefined' || outline === false) {\n      return;\n    }\n\n    if (onLoadSuccessProps) {\n      onLoadSuccessProps(outline);\n    }\n  }\n  /**\n   * Called when an outline failed to read successfully\n   */\n\n\n  function onLoadError() {\n    if (!outlineError) {\n      // Impossible, but TypeScript doesn't know that\n      return;\n    }\n\n    warning(false, outlineError.toString());\n\n    if (onLoadErrorProps) {\n      onLoadErrorProps(outlineError);\n    }\n  }\n\n  function resetOutline() {\n    outlineDispatch({\n      type: 'RESET'\n    });\n  }\n\n  useEffect(resetOutline, [outlineDispatch, pdf]);\n\n  function loadOutline() {\n    if (!pdf) {\n      // Impossible, but TypeScript doesn't know that\n      return;\n    }\n\n    const cancellable = makeCancellable(pdf.getOutline());\n    const runningTask = cancellable;\n    cancellable.promise.then(nextOutline => {\n      outlineDispatch({\n        type: 'RESOLVE',\n        value: nextOutline\n      });\n    }).catch(error => {\n      outlineDispatch({\n        type: 'REJECT',\n        error\n      });\n    });\n    return () => cancelRunningTask(runningTask);\n  }\n\n  useEffect(loadOutline, [outlineDispatch, pdf]);\n  useEffect(() => {\n    if (outline === undefined) {\n      return;\n    }\n\n    if (outline === false) {\n      onLoadError();\n      return;\n    }\n\n    onLoadSuccess();\n  }, // Ommitted callbacks so they are not called every time they change\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [outline]);\n  const childContext = useMemo(() => ({\n    onItemClick\n  }), [onItemClick]);\n  const eventProps = useMemo(() => makeEventProps(otherProps, () => outline), [otherProps, outline]);\n\n  if (!outline) {\n    return null;\n  }\n\n  function renderOutline() {\n    if (!outline) {\n      return null;\n    }\n\n    return React.createElement(\"ul\", null, outline.map((item, itemIndex) => React.createElement(OutlineItem, {\n      key: typeof item.dest === 'string' ? item.dest : itemIndex,\n      item: item\n    })));\n  }\n\n  return React.createElement(\"div\", Object.assign({\n    className: clsx('react-pdf__Outline', className),\n    ref: inputRef\n  }, eventProps), React.createElement(OutlineContext.Provider, {\n    value: childContext\n  }, renderOutline()));\n}\nOutline.propTypes = Object.assign(Object.assign({}, eventProps), {\n  className: isClassName,\n  inputRef: isRef,\n  onItemClick: PropTypes.func,\n  onLoadError: PropTypes.func,\n  onLoadSuccess: PropTypes.func,\n  pdf: isPdf\n});","map":{"version":3,"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","useEffect","useMemo","PropTypes","makeCancellable","makeEventProps","clsx","invariant","warning","OutlineContext","OutlineItem","cancelRunningTask","useDocumentContext","useResolver","eventProps","isClassName","isPdf","isRef","Outline","props","documentContext","mergedProps","assign","className","inputRef","onItemClick","onLoadError","onLoadErrorProps","onLoadSuccess","onLoadSuccessProps","pdf","otherProps","outlineState","outlineDispatch","value","outline","error","outlineError","toString","resetOutline","type","loadOutline","cancellable","getOutline","runningTask","promise","then","nextOutline","catch","undefined","childContext","renderOutline","createElement","map","item","itemIndex","key","dest","ref","Provider","propTypes","func"],"sources":["/Users/mengfanwang/Desktop/mengfw.github.io/node_modules/react-pdf/dist/esm/Outline.js"],"sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport makeCancellable from 'make-cancellable-promise';\nimport makeEventProps from 'make-event-props';\nimport clsx from 'clsx';\nimport invariant from 'tiny-invariant';\nimport warning from 'tiny-warning';\nimport OutlineContext from './OutlineContext';\nimport OutlineItem from './OutlineItem';\nimport { cancelRunningTask } from './shared/utils';\nimport useDocumentContext from './shared/hooks/useDocumentContext';\nimport useResolver from './shared/hooks/useResolver';\nimport { eventProps, isClassName, isPdf, isRef } from './shared/propTypes';\nexport default function Outline(props) {\n    const documentContext = useDocumentContext();\n    invariant(documentContext, 'Unable to find Document context. Did you wrap <Outline /> in <Document />?');\n    const mergedProps = Object.assign(Object.assign({}, documentContext), props);\n    const { className, inputRef, onItemClick, onLoadError: onLoadErrorProps, onLoadSuccess: onLoadSuccessProps, pdf } = mergedProps, otherProps = __rest(mergedProps, [\"className\", \"inputRef\", \"onItemClick\", \"onLoadError\", \"onLoadSuccess\", \"pdf\"]);\n    invariant(pdf, 'Attempted to load an outline, but no document was specified.');\n    const [outlineState, outlineDispatch] = useResolver();\n    const { value: outline, error: outlineError } = outlineState;\n    /**\n     * Called when an outline is read successfully\n     */\n    function onLoadSuccess() {\n        if (typeof outline === 'undefined' || outline === false) {\n            return;\n        }\n        if (onLoadSuccessProps) {\n            onLoadSuccessProps(outline);\n        }\n    }\n    /**\n     * Called when an outline failed to read successfully\n     */\n    function onLoadError() {\n        if (!outlineError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        warning(false, outlineError.toString());\n        if (onLoadErrorProps) {\n            onLoadErrorProps(outlineError);\n        }\n    }\n    function resetOutline() {\n        outlineDispatch({ type: 'RESET' });\n    }\n    useEffect(resetOutline, [outlineDispatch, pdf]);\n    function loadOutline() {\n        if (!pdf) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        const cancellable = makeCancellable(pdf.getOutline());\n        const runningTask = cancellable;\n        cancellable.promise\n            .then((nextOutline) => {\n            outlineDispatch({ type: 'RESOLVE', value: nextOutline });\n        })\n            .catch((error) => {\n            outlineDispatch({ type: 'REJECT', error });\n        });\n        return () => cancelRunningTask(runningTask);\n    }\n    useEffect(loadOutline, [outlineDispatch, pdf]);\n    useEffect(() => {\n        if (outline === undefined) {\n            return;\n        }\n        if (outline === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, \n    // Ommitted callbacks so they are not called every time they change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [outline]);\n    const childContext = useMemo(() => ({\n        onItemClick,\n    }), [onItemClick]);\n    const eventProps = useMemo(() => makeEventProps(otherProps, () => outline), [otherProps, outline]);\n    if (!outline) {\n        return null;\n    }\n    function renderOutline() {\n        if (!outline) {\n            return null;\n        }\n        return (React.createElement(\"ul\", null, outline.map((item, itemIndex) => (React.createElement(OutlineItem, { key: typeof item.dest === 'string' ? item.dest : itemIndex, item: item })))));\n    }\n    return (React.createElement(\"div\", Object.assign({ className: clsx('react-pdf__Outline', className), ref: inputRef }, eventProps),\n        React.createElement(OutlineContext.Provider, { value: childContext }, renderOutline())));\n}\nOutline.propTypes = Object.assign(Object.assign({}, eventProps), { className: isClassName, inputRef: isRef, onItemClick: PropTypes.func, onLoadError: PropTypes.func, onLoadSuccess: PropTypes.func, pdf: isPdf });\n"],"mappings":"AAAA,IAAIA,MAAM,GAAI,QAAQ,KAAKA,MAAd,IAAyB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;EAClD,IAAIC,CAAC,GAAG,EAAR;;EACA,KAAK,IAAIC,CAAT,IAAcH,CAAd,EAAiB,IAAII,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCP,CAArC,EAAwCG,CAAxC,KAA8CF,CAAC,CAACO,OAAF,CAAUL,CAAV,IAAe,CAAjE,EACbD,CAAC,CAACC,CAAD,CAAD,GAAOH,CAAC,CAACG,CAAD,CAAR;;EACJ,IAAIH,CAAC,IAAI,IAAL,IAAa,OAAOI,MAAM,CAACK,qBAAd,KAAwC,UAAzD,EACI,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWP,CAAC,GAAGC,MAAM,CAACK,qBAAP,CAA6BT,CAA7B,CAApB,EAAqDU,CAAC,GAAGP,CAAC,CAACQ,MAA3D,EAAmED,CAAC,EAApE,EAAwE;IACpE,IAAIT,CAAC,CAACO,OAAF,CAAUL,CAAC,CAACO,CAAD,CAAX,IAAkB,CAAlB,IAAuBN,MAAM,CAACC,SAAP,CAAiBO,oBAAjB,CAAsCL,IAAtC,CAA2CP,CAA3C,EAA8CG,CAAC,CAACO,CAAD,CAA/C,CAA3B,EACIR,CAAC,CAACC,CAAC,CAACO,CAAD,CAAF,CAAD,GAAUV,CAAC,CAACG,CAAC,CAACO,CAAD,CAAF,CAAX;EACP;EACL,OAAOR,CAAP;AACH,CAVD;;AAWA,OAAOW,KAAP,IAAgBC,SAAhB,EAA2BC,OAA3B,QAA0C,OAA1C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,eAAP,MAA4B,0BAA5B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,iBAAT,QAAkC,gBAAlC;AACA,OAAOC,kBAAP,MAA+B,mCAA/B;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,KAAlC,EAAyCC,KAAzC,QAAsD,oBAAtD;AACA,eAAe,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;EACnC,MAAMC,eAAe,GAAGR,kBAAkB,EAA1C;EACAL,SAAS,CAACa,eAAD,EAAkB,4EAAlB,CAAT;EACA,MAAMC,WAAW,GAAG9B,MAAM,CAAC+B,MAAP,CAAc/B,MAAM,CAAC+B,MAAP,CAAc,EAAd,EAAkBF,eAAlB,CAAd,EAAkDD,KAAlD,CAApB;;EACA,MAAM;IAAEI,SAAF;IAAaC,QAAb;IAAuBC,WAAvB;IAAoCC,WAAW,EAAEC,gBAAjD;IAAmEC,aAAa,EAAEC,kBAAlF;IAAsGC;EAAtG,IAA8GT,WAApH;EAAA,MAAiIU,UAAU,GAAG7C,MAAM,CAACmC,WAAD,EAAc,CAAC,WAAD,EAAc,UAAd,EAA0B,aAA1B,EAAyC,aAAzC,EAAwD,eAAxD,EAAyE,KAAzE,CAAd,CAApJ;;EACAd,SAAS,CAACuB,GAAD,EAAM,8DAAN,CAAT;EACA,MAAM,CAACE,YAAD,EAAeC,eAAf,IAAkCpB,WAAW,EAAnD;EACA,MAAM;IAAEqB,KAAK,EAAEC,OAAT;IAAkBC,KAAK,EAAEC;EAAzB,IAA0CL,YAAhD;EACA;AACJ;AACA;;EACI,SAASJ,aAAT,GAAyB;IACrB,IAAI,OAAOO,OAAP,KAAmB,WAAnB,IAAkCA,OAAO,KAAK,KAAlD,EAAyD;MACrD;IACH;;IACD,IAAIN,kBAAJ,EAAwB;MACpBA,kBAAkB,CAACM,OAAD,CAAlB;IACH;EACJ;EACD;AACJ;AACA;;;EACI,SAAST,WAAT,GAAuB;IACnB,IAAI,CAACW,YAAL,EAAmB;MACf;MACA;IACH;;IACD7B,OAAO,CAAC,KAAD,EAAQ6B,YAAY,CAACC,QAAb,EAAR,CAAP;;IACA,IAAIX,gBAAJ,EAAsB;MAClBA,gBAAgB,CAACU,YAAD,CAAhB;IACH;EACJ;;EACD,SAASE,YAAT,GAAwB;IACpBN,eAAe,CAAC;MAAEO,IAAI,EAAE;IAAR,CAAD,CAAf;EACH;;EACDvC,SAAS,CAACsC,YAAD,EAAe,CAACN,eAAD,EAAkBH,GAAlB,CAAf,CAAT;;EACA,SAASW,WAAT,GAAuB;IACnB,IAAI,CAACX,GAAL,EAAU;MACN;MACA;IACH;;IACD,MAAMY,WAAW,GAAGtC,eAAe,CAAC0B,GAAG,CAACa,UAAJ,EAAD,CAAnC;IACA,MAAMC,WAAW,GAAGF,WAApB;IACAA,WAAW,CAACG,OAAZ,CACKC,IADL,CACWC,WAAD,IAAiB;MACvBd,eAAe,CAAC;QAAEO,IAAI,EAAE,SAAR;QAAmBN,KAAK,EAAEa;MAA1B,CAAD,CAAf;IACH,CAHD,EAIKC,KAJL,CAIYZ,KAAD,IAAW;MAClBH,eAAe,CAAC;QAAEO,IAAI,EAAE,QAAR;QAAkBJ;MAAlB,CAAD,CAAf;IACH,CAND;IAOA,OAAO,MAAMzB,iBAAiB,CAACiC,WAAD,CAA9B;EACH;;EACD3C,SAAS,CAACwC,WAAD,EAAc,CAACR,eAAD,EAAkBH,GAAlB,CAAd,CAAT;EACA7B,SAAS,CAAC,MAAM;IACZ,IAAIkC,OAAO,KAAKc,SAAhB,EAA2B;MACvB;IACH;;IACD,IAAId,OAAO,KAAK,KAAhB,EAAuB;MACnBT,WAAW;MACX;IACH;;IACDE,aAAa;EAChB,CATQ,EAUT;EACA;EACA,CAACO,OAAD,CAZS,CAAT;EAaA,MAAMe,YAAY,GAAGhD,OAAO,CAAC,OAAO;IAChCuB;EADgC,CAAP,CAAD,EAExB,CAACA,WAAD,CAFwB,CAA5B;EAGA,MAAMX,UAAU,GAAGZ,OAAO,CAAC,MAAMG,cAAc,CAAC0B,UAAD,EAAa,MAAMI,OAAnB,CAArB,EAAkD,CAACJ,UAAD,EAAaI,OAAb,CAAlD,CAA1B;;EACA,IAAI,CAACA,OAAL,EAAc;IACV,OAAO,IAAP;EACH;;EACD,SAASgB,aAAT,GAAyB;IACrB,IAAI,CAAChB,OAAL,EAAc;MACV,OAAO,IAAP;IACH;;IACD,OAAQnC,KAAK,CAACoD,aAAN,CAAoB,IAApB,EAA0B,IAA1B,EAAgCjB,OAAO,CAACkB,GAAR,CAAY,CAACC,IAAD,EAAOC,SAAP,KAAsBvD,KAAK,CAACoD,aAAN,CAAoB1C,WAApB,EAAiC;MAAE8C,GAAG,EAAE,OAAOF,IAAI,CAACG,IAAZ,KAAqB,QAArB,GAAgCH,IAAI,CAACG,IAArC,GAA4CF,SAAnD;MAA8DD,IAAI,EAAEA;IAApE,CAAjC,CAAlC,CAAhC,CAAR;EACH;;EACD,OAAQtD,KAAK,CAACoD,aAAN,CAAoB,KAApB,EAA2B7D,MAAM,CAAC+B,MAAP,CAAc;IAAEC,SAAS,EAAEjB,IAAI,CAAC,oBAAD,EAAuBiB,SAAvB,CAAjB;IAAoDmC,GAAG,EAAElC;EAAzD,CAAd,EAAmFV,UAAnF,CAA3B,EACJd,KAAK,CAACoD,aAAN,CAAoB3C,cAAc,CAACkD,QAAnC,EAA6C;IAAEzB,KAAK,EAAEgB;EAAT,CAA7C,EAAsEC,aAAa,EAAnF,CADI,CAAR;AAEH;AACDjC,OAAO,CAAC0C,SAAR,GAAoBrE,MAAM,CAAC+B,MAAP,CAAc/B,MAAM,CAAC+B,MAAP,CAAc,EAAd,EAAkBR,UAAlB,CAAd,EAA6C;EAAES,SAAS,EAAER,WAAb;EAA0BS,QAAQ,EAAEP,KAApC;EAA2CQ,WAAW,EAAEtB,SAAS,CAAC0D,IAAlE;EAAwEnC,WAAW,EAAEvB,SAAS,CAAC0D,IAA/F;EAAqGjC,aAAa,EAAEzB,SAAS,CAAC0D,IAA9H;EAAoI/B,GAAG,EAAEd;AAAzI,CAA7C,CAApB"},"metadata":{},"sourceType":"module"}