{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'tiny-invariant';\nimport Ref from './Ref';\nimport useCachedValue from './shared/hooks/useCachedValue';\nimport useDocumentContext from './shared/hooks/useDocumentContext';\nimport useOutlineContext from './shared/hooks/useOutlineContext';\nexport default function OutlineItem(props) {\n  const documentContext = useDocumentContext();\n  invariant(documentContext, 'Unable to find Document context. Did you wrap <Outline /> in <Document />?');\n  const outlineContext = useOutlineContext();\n  invariant(outlineContext, 'Unable to find Outline context.');\n  const mergedProps = Object.assign(Object.assign(Object.assign({}, documentContext), outlineContext), props);\n\n  const {\n    item,\n    linkService,\n    onItemClick,\n    pdf\n  } = mergedProps,\n        otherProps = __rest(mergedProps, [\"item\", \"linkService\", \"onItemClick\", \"pdf\"]);\n\n  invariant(pdf, 'Attempted to load an outline, but no document was specified.');\n  const getDestination = useCachedValue(() => {\n    if (typeof item.dest === 'string') {\n      return pdf.getDestination(item.dest);\n    }\n\n    return item.dest;\n  });\n  const getPageIndex = useCachedValue(() => __awaiter(this, void 0, void 0, function* () {\n    const destination = yield getDestination();\n\n    if (!destination) {\n      throw new Error('Destination not found.');\n    }\n\n    const [ref] = destination;\n    return pdf.getPageIndex(new Ref(ref));\n  }));\n  const getPageNumber = useCachedValue(() => __awaiter(this, void 0, void 0, function* () {\n    const pageIndex = yield getPageIndex();\n    return pageIndex + 1;\n  }));\n\n  function onClick(event) {\n    event.preventDefault();\n\n    if (onItemClick) {\n      Promise.all([getDestination(), getPageIndex(), getPageNumber()]).then(_ref => {\n        let [dest, pageIndex, pageNumber] = _ref;\n        onItemClick({\n          dest,\n          pageIndex,\n          pageNumber\n        });\n      });\n    } else {\n      linkService.goToDestination(item.dest);\n    }\n  }\n\n  function renderSubitems() {\n    if (!item.items || !item.items.length) {\n      return null;\n    }\n\n    const {\n      items: subitems\n    } = item;\n    return React.createElement(\"ul\", null, subitems.map((subitem, subitemIndex) => React.createElement(OutlineItem, Object.assign({\n      key: typeof subitem.dest === 'string' ? subitem.dest : subitemIndex,\n      item: subitem\n    }, otherProps))));\n  }\n\n  return React.createElement(\"li\", null, React.createElement(\"a\", {\n    href: \"#\",\n    onClick: onClick\n  }, item.title), renderSubitems());\n}\nconst isDestination = PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.any)]);\nOutlineItem.propTypes = {\n  item: PropTypes.shape({\n    dest: isDestination,\n    items: PropTypes.arrayOf(PropTypes.shape({\n      dest: isDestination,\n      title: PropTypes.string\n    })),\n    title: PropTypes.string\n  }).isRequired\n};","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__rest","s","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","PropTypes","invariant","Ref","useCachedValue","useDocumentContext","useOutlineContext","OutlineItem","props","documentContext","outlineContext","mergedProps","assign","item","linkService","onItemClick","pdf","otherProps","getDestination","dest","getPageIndex","destination","Error","ref","getPageNumber","pageIndex","onClick","event","preventDefault","all","pageNumber","goToDestination","renderSubitems","items","subitems","createElement","map","subitem","subitemIndex","key","href","title","isDestination","oneOfType","string","arrayOf","any","propTypes","shape","isRequired"],"sources":["/Users/mengfanwang/Desktop/mengfw.github.io/node_modules/react-pdf/dist/esm/OutlineItem.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'tiny-invariant';\nimport Ref from './Ref';\nimport useCachedValue from './shared/hooks/useCachedValue';\nimport useDocumentContext from './shared/hooks/useDocumentContext';\nimport useOutlineContext from './shared/hooks/useOutlineContext';\nexport default function OutlineItem(props) {\n    const documentContext = useDocumentContext();\n    invariant(documentContext, 'Unable to find Document context. Did you wrap <Outline /> in <Document />?');\n    const outlineContext = useOutlineContext();\n    invariant(outlineContext, 'Unable to find Outline context.');\n    const mergedProps = Object.assign(Object.assign(Object.assign({}, documentContext), outlineContext), props);\n    const { item, linkService, onItemClick, pdf } = mergedProps, otherProps = __rest(mergedProps, [\"item\", \"linkService\", \"onItemClick\", \"pdf\"]);\n    invariant(pdf, 'Attempted to load an outline, but no document was specified.');\n    const getDestination = useCachedValue(() => {\n        if (typeof item.dest === 'string') {\n            return pdf.getDestination(item.dest);\n        }\n        return item.dest;\n    });\n    const getPageIndex = useCachedValue(() => __awaiter(this, void 0, void 0, function* () {\n        const destination = yield getDestination();\n        if (!destination) {\n            throw new Error('Destination not found.');\n        }\n        const [ref] = destination;\n        return pdf.getPageIndex(new Ref(ref));\n    }));\n    const getPageNumber = useCachedValue(() => __awaiter(this, void 0, void 0, function* () {\n        const pageIndex = yield getPageIndex();\n        return pageIndex + 1;\n    }));\n    function onClick(event) {\n        event.preventDefault();\n        if (onItemClick) {\n            Promise.all([getDestination(), getPageIndex(), getPageNumber()]).then(([dest, pageIndex, pageNumber]) => {\n                onItemClick({\n                    dest,\n                    pageIndex,\n                    pageNumber,\n                });\n            });\n        }\n        else {\n            linkService.goToDestination(item.dest);\n        }\n    }\n    function renderSubitems() {\n        if (!item.items || !item.items.length) {\n            return null;\n        }\n        const { items: subitems } = item;\n        return (React.createElement(\"ul\", null, subitems.map((subitem, subitemIndex) => (React.createElement(OutlineItem, Object.assign({ key: typeof subitem.dest === 'string' ? subitem.dest : subitemIndex, item: subitem }, otherProps))))));\n    }\n    return (React.createElement(\"li\", null,\n        React.createElement(\"a\", { href: \"#\", onClick: onClick }, item.title),\n        renderSubitems()));\n}\nconst isDestination = PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.any)]);\nOutlineItem.propTypes = {\n    item: PropTypes.shape({\n        dest: isDestination,\n        items: PropTypes.arrayOf(PropTypes.shape({\n            dest: isDestination,\n            title: PropTypes.string,\n        })),\n        title: PropTypes.string,\n    }).isRequired,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}